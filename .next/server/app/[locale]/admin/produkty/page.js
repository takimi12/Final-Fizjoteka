(()=>{var e={};e.id=9923,e.ids=[9923],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},13195:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>p,pages:()=>u,routeModule:()=>m,tree:()=>c}),r(88971),r(72787),r(39226),r(32029),r(12523);var a=r(23191),o=r(88716),i=r(37922),n=r.n(i),s=r(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let c=["",{children:["[locale]",{children:["admin",{children:["produkty",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,88971)),"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/[locale]/admin/produkty/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,72787)),"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/[locale]/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,39226)),"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/[locale]/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/[locale]/admin/produkty/page.tsx"],p="/[locale]/admin/produkty/page",d={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/[locale]/admin/produkty/page",pathname:"/[locale]/admin/produkty",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84782:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,92481,23)),Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,63968)),Promise.resolve().then(r.bind(r,86650)),Promise.resolve().then(r.bind(r,83133)),Promise.resolve().then(r.bind(r,94661)),Promise.resolve().then(r.bind(r,48578)),Promise.resolve().then(r.bind(r,1301)),Promise.resolve().then(r.bind(r,63251))},86650:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(10326),o=r(17577),i=r(35047),n=r(41012),s=r.n(n);let l=()=>{let[e,t]=(0,o.useState)(""),[r,n]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,p]=(0,o.useState)(""),[d,m]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),[y,g]=(0,o.useState)(""),[_,x]=(0,o.useState)(null),[j,v]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1),C=(0,i.useRouter)(),S=async a=>{if(a.preventDefault(),!e||!r||!l||!u||!d||!h||!y||!_){alert("Title, description, category, and price are required.");return}w(!0);let o=new FormData;o.append("image",_);try{let a=await fetch("/api/s3-uploadCategory",{method:"POST",body:o});if(!a.ok)throw Error("Failed to upload files to S3");let i=(await a.json()).imageUrl;if((await fetch("/api/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,subtitle1:r,subtitle2:l,subtitle3:u,description:d,category:h,price:y,imageFileUrl:i})})).ok)t(""),n(""),c(""),p(""),m(""),x(null),f(""),g(""),v(!1),C.refresh();else throw Error("Failed to create a category")}catch(e){console.log("ERROR",e)}finally{w(!1)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>v(!0),className:s().button,children:"Dodaj nową kategorię"}),j&&a.jsx("div",{className:s().popupBackground,children:(0,a.jsxs)("div",{className:s().popup,children:[a.jsx("button",{onClick:()=>v(!1),children:"Zamknij okno"}),(0,a.jsxs)("form",{onSubmit:S,className:s().form,children:[a.jsx("input",{onChange:e=>t(e.target.value),value:e,className:s().input,type:"text",placeholder:"Topic Title"}),a.jsx("input",{onChange:e=>n(e.target.value),value:r,className:s().input,type:"text",placeholder:"Topic Subtitle"}),a.jsx("input",{onChange:e=>c(e.target.value),value:l,className:s().input,type:"text",placeholder:"Topic Subtitle"}),a.jsx("input",{onChange:e=>p(e.target.value),value:u,className:s().input,type:"text",placeholder:"Topic Subtitle"}),a.jsx("input",{onChange:e=>m(e.target.value),value:d,className:s().input,type:"text",placeholder:"Topic Description"}),a.jsx("input",{onChange:e=>f(e.target.value),value:h,className:s().input,type:"text",placeholder:"Category"}),a.jsx("input",{onChange:e=>g(e.target.value),value:y,className:s().input,type:"text",placeholder:"Price"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files[0];if(t&&t.name.includes(" ")){alert("Nazwa pliku nie może zawierać spacji."),e.target.value=null;return}x(t)}}),a.jsx("button",{type:"submit",className:"button",disabled:b,children:b?"Dodawanie...":"Dodaj kategorię"})]})]})})]})}},83133:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(10326),o=r(17577),i=r(35047),n=r(59141),s=r.n(n);let l=()=>{let[e,t]=(0,o.useState)(""),[r,n]=(0,o.useState)(""),[l,c]=(0,o.useState)(""),[u,p]=(0,o.useState)(null),[d,m]=(0,o.useState)(null),[h,f]=(0,o.useState)([]),[y,g]=(0,o.useState)(""),[_,x]=(0,o.useState)(""),[j,v]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1),C=(0,i.useRouter)(),S=e=>{f(h.filter(t=>t!==e))},T=async a=>{if(a.preventDefault(),!e||!r||!l||!u||!d||0===h.length||!_){alert("Title, subtitle, description, image, pdf, categories, and price are required.");return}w(!0);let o=new FormData;o.append("image",u),o.append("pdf",d);try{let a=await fetch("/api/s3-uploadTopic",{method:"POST",body:o});if(!a.ok)throw Error("Failed to upload files to S3");let i=await a.json(),s=i.imageUrl,u=i.pdfUrl;if((await fetch("http://localhost:3000/api/topics",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:e,subtitle:r,description:l,categories:h,price:_,imageFileUrl:s,pdfFileUrl:u})})).ok)t(""),n(""),c(""),f([]),x(""),p(null),m(null),v(!1),C.refresh();else throw Error("Failed to create a topic")}catch(e){console.error("ERROR",e)}finally{w(!1)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>v(!0),className:s().button,children:"Dodaj nowy produkt"}),j&&a.jsx("div",{className:s().popupBackground,children:(0,a.jsxs)("div",{className:s().popup,children:[a.jsx("button",{onClick:()=>v(!1),children:"Zamknij okno"}),(0,a.jsxs)("form",{onSubmit:T,className:s().form,children:[a.jsx("input",{onChange:e=>t(e.target.value),value:e,className:s().input,type:"text",placeholder:"Topic Title"}),a.jsx("input",{onChange:e=>n(e.target.value),value:r,className:s().input,type:"text",placeholder:"Topic Subtitle"}),a.jsx("input",{onChange:e=>c(e.target.value),value:l,className:s().input,type:"text",placeholder:"Topic Description"}),(0,a.jsxs)("div",{className:s().categoryContainer,children:[(0,a.jsxs)("div",{className:s().categoryInputContainer,children:[a.jsx("input",{onChange:e=>g(e.target.value),value:y,className:s().input,type:"text",placeholder:"New Category"}),a.jsx("button",{type:"button",onClick:()=>{y&&!h.includes(y)&&(f([...h,y]),g(""))},className:s().addButton,children:"Dodaj kategorię"})]}),a.jsx("div",{className:s().categoryList,children:h.map((e,t)=>(0,a.jsxs)("div",{className:s().categoryItem,children:[e,a.jsx("button",{type:"button",onClick:()=>S(e),className:s().removeCategoryButton,children:"\xd7"})]},t))})]}),a.jsx("input",{onChange:e=>x(e.target.value),value:_,className:s().input,type:"text",placeholder:"Price"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0]||null;if(t&&t.name.includes(" ")){alert("Nazwa pliku nie może zawierać spacji."),e.target.value="";return}p(t)}}),a.jsx("input",{type:"file",accept:"application/pdf",onChange:e=>{let t=e.target.files?.[0]||null;if(t&&t.name.includes(" ")){alert("Nazwa pliku nie może zawierać spacji."),e.target.value="";return}m(t)}}),a.jsx("button",{type:"submit",className:"button",disabled:b,children:b?"Dodawanie...":"Dodaj produkt"})]})]})})]})}},94661:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(10326),o=r(17577),i=r(35047),n=r(16175),s=r.n(n);function l({id:e,title:t,subtitle1:r,subtitle2:n,subtitle3:l,price:c,category:u,description:p,imageFileUrl:d}){let[m,h]=(0,o.useState)(t),[f,y]=(0,o.useState)(r),[g,_]=(0,o.useState)(n),[x,j]=(0,o.useState)(l),[v,b]=(0,o.useState)(p),[w,C]=(0,o.useState)(c),[S,T]=(0,o.useState)(u),[k,N]=(0,o.useState)(d),[P,F]=(0,o.useState)(!1),[E,O]=(0,o.useState)(null),[L,A]=(0,o.useState)(!1),D=(0,i.useRouter)(),R=async t=>{t.preventDefault();let r=k;if(L&&E){let e=k.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:e})});let t=new FormData;t.append("file",E);let a=await fetch("http://localhost:3000/api/addAmazonObj",{method:"POST",body:t});r=(await a.json()).fileUrl}catch(e){}}try{if((await fetch(`http://localhost:3000/api/category/${e}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({newTitle:m,newSubtitle1:f,newSubtitle2:g,newSubtitle3:x,newDescription:v,newPrice:w,newCategory:S,imageFileUrl:r})})).ok)F(!1),D.refresh();else throw Error("Failed to update the topic")}catch(e){}};return(0,a.jsxs)(a.Fragment,{children:[P&&a.jsx("div",{className:s().popupBackground,children:a.jsx("div",{className:s().popup,children:(0,a.jsxs)("form",{onSubmit:R,className:s().form,children:[a.jsx("input",{onChange:e=>h(e.target.value),value:m,className:s().input,type:"text",placeholder:"Topic Title"}),a.jsx("input",{onChange:e=>y(e.target.value),value:f,className:s().input,type:"text",placeholder:"Subtitle 1"}),a.jsx("input",{onChange:e=>_(e.target.value),value:g,className:s().input,type:"text",placeholder:"Subtitle 2"}),a.jsx("input",{onChange:e=>j(e.target.value),value:x,className:s().input,type:"text",placeholder:"Subtitle 3"}),a.jsx("input",{onChange:e=>b(e.target.value),value:v,className:s().input,type:"text",placeholder:"Description"}),a.jsx("input",{onChange:e=>T(e.target.value),value:S,className:s().input,type:"text",placeholder:"Category"}),a.jsx("input",{onChange:e=>C(Number(e.target.value)),value:w,className:s().input,type:"text",placeholder:"Price"}),a.jsx("input",{type:"file",accept:"image/*",className:s().input,onChange:e=>{A(!0),e.target.files&&O(e.target.files[0])}}),a.jsx("button",{className:s().submitButton,children:"Edytuj kategorię"}),a.jsx("button",{type:"button",className:s().closeButton,onClick:()=>F(!1),children:"Zamknij okno"})]})})}),a.jsx("div",{children:a.jsx("button",{className:"button",onClick:()=>F(!0),children:"Edytuj kategorię"})})]})}},48578:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var a=r(10326),o=r(17577),i=r(35047),n=r(71052),s=r.n(n);function l({id:e,title:t,subtitle:r,description:n,price:l,category:c,imageFileUrl:u,pdfFileUrl:p}){let[d,m]=(0,o.useState)(t),[h,f]=(0,o.useState)(r),[y,g]=(0,o.useState)(n),[_,x]=(0,o.useState)(l),[j,v]=(0,o.useState)(c),[b,w]=(0,o.useState)(u),[C,S]=(0,o.useState)(p),[T,k]=(0,o.useState)(!1),[N,P]=(0,o.useState)(null),[F,E]=(0,o.useState)(!1),[O,L]=(0,o.useState)(null),[A,D]=(0,o.useState)(!1),R=(0,i.useRouter)(),z=async t=>{t.preventDefault();let r=b,a=C;if(F&&N){let e=b.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:e})});let t=new FormData;t.append("file",N);let a=await fetch("http://localhost:3000/api/addAmazonObj",{method:"POST",body:t});r=(await a.json()).fileUrl}catch(e){}}if(A&&O){let e=C.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:e})});let t=new FormData;t.append("file",O);let r=await fetch("http://localhost:3000/api/addAmazonObj",{method:"POST",body:t});a=(await r.json()).fileUrl}catch(e){}}try{if((await fetch(`http://localhost:3000/api/topics/${e}`,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({newTitle:d,newSubtitle:h,newDescription:y,newPrice:_,newCategory:j,imageFileUrl:r,pdfFileUrl:a})})).ok)k(!1),R.refresh();else throw Error("Failed to update the topic")}catch(e){}};return(0,a.jsxs)(a.Fragment,{children:[T&&a.jsx("div",{className:s().popupBackground,children:a.jsx("div",{className:s().popup,children:(0,a.jsxs)("form",{onSubmit:z,className:s().form,children:[a.jsx("input",{onChange:e=>m(e.target.value),value:d,className:s().input,type:"text",placeholder:"Topic Title"}),a.jsx("input",{onChange:e=>f(e.target.value),value:h,className:s().input,type:"text",placeholder:"Topic Subtitle"}),a.jsx("input",{onChange:e=>g(e.target.value),value:y,className:s().input,type:"text",placeholder:"Topic Description"}),a.jsx("input",{onChange:e=>v(e.target.value),value:j,className:s().input,type:"text",placeholder:"Topic Category"}),a.jsx("input",{onChange:e=>x(e.target.value),value:_,className:s().input,type:"text",placeholder:"Topic Price"}),a.jsx("input",{type:"file",accept:"image/*",className:s().input,onChange:e=>{E(!0),e.target.files&&P(e.target.files[0])}}),a.jsx("input",{type:"file",accept:"application/pdf",className:s().input,onChange:e=>{D(!0),e.target.files&&L(e.target.files[0])}}),a.jsx("button",{className:s().submitButton,children:"Edytuj produkt"}),a.jsx("button",{onClick:()=>k(!1),className:s().closeButton,children:"Zamknij okno"})]})})}),a.jsx("div",{children:a.jsx("button",{onClick:()=>k(!0),className:"button",children:"Edytuj produkt"})})]})}},1301:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(10326),o=r(17577),i=r(71298),n=r(35047),s=r(60),l=r.n(s);function c({id:e,imageFileUrl:t}){let[r,s]=(0,o.useState)(t),c=(0,n.useRouter)(),u=async()=>{if(window.confirm("Czy na pewno chcesz usunąć?"))try{if(!(await fetch(`http://localhost:3000/api/category?id=${e}`,{method:"DELETE"})).ok)throw Error("Nie udało się usunąć tematu");let r=t.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:r})})}catch(e){}c.refresh()}catch(e){}};return a.jsx("div",{children:a.jsx("button",{onClick:u,className:l().button,children:a.jsx(i.Bhs,{size:24})})})}},63251:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var a=r(10326),o=r(71298),i=r(35047),n=r(17577),s=r(53186),l=r.n(s);function c({id:e,imageFileUrl:t,pdfFileUrl:r}){let[s,c]=(0,n.useState)(t),[u,p]=(0,n.useState)(r),d=(0,i.useRouter)(),m=async()=>{if(window.confirm("Czy na pewno chcesz usunąć?"))try{if(!(await fetch(`http://localhost:3000/api/topics?id=${e}`,{method:"DELETE"})).ok)throw Error("Nie udało się usunąć tematu");let a=t.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:a})});let e=new FormData;e.append("file",t);let r=await fetch("http://localhost:3000/api/addAmazonObj",{method:"POST",body:e}),o=(await r.json()).fileUrl;c(o)}catch(e){}let o=r.split("/").pop();try{await fetch("http://localhost:3000/api/deleteAmazonObj",{method:"DELETE",body:JSON.stringify({fileName:o})})}catch(e){}d.refresh()}catch(e){}};return a.jsx("div",{children:a.jsx("button",{onClick:m,className:l().button,children:a.jsx(o.Bhs,{size:24})})})}},41012:e=>{e.exports={popupBackground:"AddCategory_popupBackground__0I6hH",popup:"AddCategory_popup__mXsi4",button:"AddCategory_button__bBJBg",form:"AddCategory_form___cD4S",input:"AddCategory_input__Ro8LD",submitButton:"AddCategory_submitButton__4Ablr"}},59141:e=>{e.exports={popupBackground:"AddTopic_popupBackground__iZuhp",popup:"AddTopic_popup__Aze1e",button:"AddTopic_button__BUfMB",form:"AddTopic_form__xPUH1",input:"AddTopic_input__JkwAl",categoryContainer:"AddTopic_categoryContainer__5OYg8",categoryInputContainer:"AddTopic_categoryInputContainer__11Osq",categoryList:"AddTopic_categoryList__FCtQZ",categoryItem:"AddTopic_categoryItem__OwCfy"}},16175:e=>{e.exports={editForm:"EditCategoryForm_editForm__xgi2H",popupBackground:"EditCategoryForm_popupBackground__0uFhL",popup:"EditCategoryForm_popup___cNQJ",form:"EditCategoryForm_form__rRB7z",input:"EditCategoryForm_input__vXmuh"}},71052:e=>{e.exports={popupBackground:"EditTopicForm_popupBackground__j8CSp",popup:"EditTopicForm_popup__38zoO",button:"EditTopicForm_button__t1nfz",form:"EditTopicForm_form__cxmml",input:"EditTopicForm_input__XQDr8"}},11644:e=>{e.exports={remove:"RemoveCategory_remove__fXuUl"}},60:e=>{e.exports={button:"RemoveCategoryForm_button__TjmC4"}},53186:e=>{e.exports={button:"RemoveTopicForm_button__yJe21"}},1772:e=>{e.exports={"local\xa7Container":"TopicList_local_Container__Doxxm",localContainer:"TopicList_localContainer__G_6lj",adminBar:"TopicList_adminBar__YrGWC",ctaGroup:"TopicList_ctaGroup__3VROA",singleProduct:"TopicList_singleProduct___880S",availableTop:"TopicList_availableTop__LoE2u",productPhoto:"TopicList_productPhoto__17SSL",textWraper:"TopicList_textWraper__HPPrm",mainText:"TopicList_mainText___xdEn",circle:"TopicList_circle__IftfC",amount:"TopicList_amount__zEq4A",cardTitle:"TopicList_cardTitle__Y_rxi",anchor:"TopicList_anchor__04KVT",underLink:"TopicList_underLink__LnILf",actionGroup:"TopicList_actionGroup__htvQo",date:"TopicList_date__vUqn8",checkbox:"TopicList_checkbox__es0tk",mainSection:"TopicList_mainSection__y4JSp"}},83193:e=>{e.exports={"local\xa7Container":"categoryList_local_Container__u3O22",localContainer:"categoryList_localContainer__ChBq0",adminBar:"categoryList_adminBar__p7fNl",ctaGroup:"categoryList_ctaGroup__mWLWO",singleProduct:"categoryList_singleProduct__7SU_3",availableTop:"categoryList_availableTop__NHKhp",productPhoto:"categoryList_productPhoto__ElUrn",textWraper:"categoryList_textWraper__AyV6d",mainText:"categoryList_mainText__5_DA2",circle:"categoryList_circle__JT6PU",amount:"categoryList_amount__DXESO",cardTitle:"categoryList_cardTitle__LCX_p",anchor:"categoryList_anchor__YDHxh",underLink:"categoryList_underLink__O1AD3",actionGroup:"categoryList_actionGroup__8kUof",date:"categoryList_date__T6EH5",checkbox:"categoryList_checkbox__Xf_5N",mainSection:"categoryList_mainSection__B1jYz"}},65054:e=>{e.exports={container:"TopicList_container__cPHsa",adminBar:"TopicList_adminBar__8Abe5",ctaGroup:"TopicList_ctaGroup__T_1f1",singleProduct:"TopicList_singleProduct__OVxUU",availableTop:"TopicList_availableTop__ewiLB",productPhoto:"TopicList_productPhoto__SGio7",textWraper:"TopicList_textWraper__SFXnO",mainText:"TopicList_mainText__XA8K1",circle:"TopicList_circle__b09Sn",amount:"TopicList_amount__nk32z",date:"TopicList_date__ndODd",checkbox:"TopicList_checkbox__ToPN1",mainSection:"TopicList_mainSection__b3gZj",cardTitle:"TopicList_cardTitle__ZJLmS",anchor:"TopicList_anchor__KIzHB",underLink:"TopicList_underLink__Oo38z"}},34532:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});var a=r(11185),o=r.n(a);let i="mongodb+srv://chao:chao@cluster0.sbxy1gl.mongodb.net/fizjoteka1";if(!i)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let n=global.mongoose;n||(n=global.mongoose={conn:null,promise:null});let s=async()=>{if(n.conn)return n.conn;n.promise||(n.promise=o().connect(i,{bufferCommands:!1}).then(e=>e));try{n.conn=await n.promise}catch(e){throw n.promise=null,e}return n.conn}},7585:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(11185),o=r.n(a),i=r(42023),n=r.n(i);let s=new(o()).Schema({name:{type:String,required:[!0,"Please enter your name"]},email:{type:String,required:[!0,"Please enter your email"],unique:!0},password:{type:String,required:[!0,"Please enter your password"],minLength:[6,"Your password must be longer than 6 characters"],select:!1},role:{type:String,default:"user"}});s.pre("save",async function(e){this.isModified("password")||e(),this.password=await n().hash(this.password,10)});let l=o().models.User||o().model("User",s)},33486:(e,t,r)=>{"use strict";r.d(t,{n:()=>a});let a=async()=>{try{let e=await fetch("http://localhost:3000/api/category",{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch topics");return e.json()}catch(e){}}},85293:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});let a=async()=>{try{let e=await fetch("http://localhost:3000/api/topics",{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch topics");return e.json()}catch(e){}}},58585:(e,t,r)=>{"use strict";var a=r(61085);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return n},RedirectType:function(){return a.RedirectType},notFound:function(){return o.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=r(83953),o=r(16399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class n extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return o},notFound:function(){return a}});let r="NEXT_NOT_FOUND";function a(){let e=Error(r);throw e.digest=r,e}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return d},isRedirectError:function(){return p},permanentRedirect:function(){return u},redirect:function(){return c}});let o=r(54580),i=r(72934),n=r(8586),s="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Error(s);a.digest=s+";"+t+";"+e+";"+r+";";let i=o.requestAsyncStorage.getStore();return i&&(a.mutableCookies=i.mutableCookies),a}function c(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?n.RedirectStatusCode.SeeOther:n.RedirectStatusCode.PermanentRedirect)}function p(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,a,o]=e.digest.split(";",4),i=Number(o);return t===s&&("replace"===r||"push"===r)&&"string"==typeof a&&!isNaN(i)&&i in n.RedirectStatusCode}function d(e){return p(e)?e.digest.split(";",3)[2]:null}function m(e){if(!p(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!p(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},72787:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(19510),o=r(7585),i=r(53797),n=r(42023),s=r.n(n),l=r(34532);let c={session:{strategy:"jwt"},providers:[(0,i.Z)({credentials:{email:{label:"Email",type:"text",placeholder:"email@example.com"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Email and password are required");await (0,l.C)();let t=await o.Z.findOne({email:e.email}).select("+password");if(!t||!await s().compare(e.password,t.password))throw Error("Invalid Email or Password");return{id:t._id.toString(),name:t.name,email:t.email,role:t.role}}})],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.user=t),e),session:async({session:e,token:t})=>(t?.user&&(e.user=t.user),e)},pages:{error:"/auth/error"},secret:"twoj_secret"};var u=r(75571),p=r(58585);async function d({children:e}){let t=await (0,u.getServerSession)(c);t&&t.user&&t.user._id||(0,p.redirect)("/");let r=await o.Z.findById(t.user._id).lean();return r&&"admin"===r.role||(0,p.redirect)("/"),a.jsx("div",{children:e})}},88971:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var a=r(19510);r(71159);var o=r(68570);let i=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/AddTopic.tsx`),{__esModule:n,$$typeof:s}=i;i.default;let l=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/AddTopic.tsx#default`);var c=r(85293),u=r(33486),p=r(65054),d=r.n(p),m=r(83193),h=r.n(m),f=r(57371),y=r(17710);let g={src:"/_next/static/media/circle.a37af7ee.svg",height:512,width:512,blurWidth:0,blurHeight:0},_=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/RemoveCategoryForm.tsx`),{__esModule:x,$$typeof:j}=_;_.default;let v=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/RemoveCategoryForm.tsx#default`);var b=r(11644),w=r.n(b);let C=async e=>{try{let t=await fetch(`http://localhost:3000/api/category/${e}`,{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch category");return t.json()}catch(e){throw e}};async function S({id:e}){let{imageFileUrl:t}=await C(e);return a.jsx("div",{className:w().remove,children:a.jsx(v,{id:e,imageFileUrl:t})})}let T=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/EditCategoryForm.tsx`),{__esModule:k,$$typeof:N}=T;T.default;let P=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/EditCategoryForm.tsx#default`),F=async e=>{try{let t=await fetch(`http://localhost:3000/api/category/${e}`,{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch category");return t.json()}catch(e){throw e}};async function E({id:e}){try{let{categories:t}=await F(e),{title:r,subtitle1:o,subtitle2:i,subtitle3:n,price:s,description:l,category:c,imageFileUrl:u}=t;return a.jsx(P,{id:e,title:r,subtitle1:o,subtitle2:i,subtitle3:n,description:l,price:s,category:c,imageFileUrl:u})}catch(e){return a.jsx("div",{children:"Error loading category data"})}}async function O({categories:e}){return a.jsx("div",{className:` mx-auto py-8 ${h().localContainer}`,children:e.map(e=>(0,a.jsxs)("div",{className:h().singleProduct,children:[a.jsx("span",{className:h().availableTop,children:"FIZJOTERAPEUTA POLECA"}),a.jsx("div",{className:h().productPhoto,children:a.jsx(y.default,{src:e.imageFileUrl,alt:"product",width:300,height:300})}),(0,a.jsxs)("div",{className:`${h().textWraper} w-full`,children:[(0,a.jsxs)("div",{className:h().cardTitle,children:[a.jsx(f.default,{className:h().anchor,href:"",children:a.jsx("h4",{children:e.title})}),(0,a.jsxs)("span",{className:h().underLink,children:[e.subtitle1," • ",e.subtitle2," • ",e.subtitle3]})]}),a.jsx("p",{className:h().mainText,children:e.description}),(0,a.jsxs)("div",{className:h().circle,children:[a.jsx(y.default,{src:g,width:15,height:15,alt:"circle"}),a.jsx("p",{children:"Produkt dostępny"})]}),a.jsx("div",{className:h().circle}),a.jsx("div",{className:`${h().priceParent} flex items-center justify-end`,children:(0,a.jsxs)("p",{className:`${h().amount} font-bold`,children:[e.price," zł"]})})]}),(0,a.jsxs)("div",{className:h().actionGroup,children:[a.jsx(E,{id:e._id}),a.jsx(S,{id:e._id})]})]},e._id))})}var L=r(1772),A=r.n(L);let D=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/RemoveTopicForm.tsx`),{__esModule:R,$$typeof:z}=D;D.default;let U=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/RemoveTopicForm.tsx#default`),B=async e=>{try{let t=await fetch(`http://localhost:3000/api/topics/${e}`,{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch topic");return t.json()}catch(e){throw Error("Failed to fetch topic")}};async function q({id:e}){let{imageFileUrl:t,pdfFileUrl:r}=await B(e);return a.jsx(U,{id:e,imageFileUrl:t,pdfFileUrl:r})}let $=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/EditTopicForm.tsx`),{__esModule:M,$$typeof:G}=$;$.default;let J=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/EditTopicForm.tsx#default`),I=async e=>{try{let t=await fetch(`http://localhost:3000/api/topics/${e}`,{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch topic");return t.json()}catch(e){throw e}};async function W({id:e}){let{topic:t}=await I(e),{title:r,subtitle:o,description:i,price:n,categories:s,imageFileUrl:l,pdfFileUrl:c}=t;return a.jsx(J,{id:e,title:r,subtitle:o,description:i,price:n,category:s[0],imageFileUrl:l,pdfFileUrl:c})}function Z({topics:e}){return a.jsx("div",{className:`mx-auto py-8 ${A().localContainer}`,children:e.map(e=>(0,a.jsxs)("div",{className:`${A().singleProduct}`,children:[a.jsx("span",{className:`${A().availableTop}`,children:"Produkty dostępny"}),a.jsx("div",{className:`${A().productPhoto}`,children:a.jsx(y.default,{src:e.imageFileUrl,alt:"product",width:300,height:300})}),(0,a.jsxs)("div",{className:`${A().textWraper} w-full`,children:[(0,a.jsxs)("div",{className:`${A().cardTitle}`,children:[a.jsx(f.default,{className:`${A().anchor}`,href:"",children:a.jsx("h4",{children:e.title})}),a.jsx("span",{className:`${A().underLink}`,children:e.subtitle})]}),a.jsx("p",{className:`${A().mainText}`,children:e.description}),(0,a.jsxs)("div",{className:`${A().circle}`,children:[a.jsx(y.default,{src:g,width:15,height:15,alt:"circle"}),a.jsx("p",{children:"Produkt dostępny"})]}),a.jsx("div",{className:`${A().priceParent} flex items-center justify-end`,children:(0,a.jsxs)("p",{className:`${A().amount} font-bold`,children:[e.price," zł"]})})]}),(0,a.jsxs)("div",{className:A().actionGroup,children:[a.jsx(W,{id:e._id}),a.jsx(q,{id:e._id})]})]},e._id))})}let H=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/AddCategory.tsx`),{__esModule:X,$$typeof:Y}=H;H.default;let V=(0,o.createProxy)(String.raw`/Users/thonasjefferson/Desktop/Final Fizjoteka/src/components/AdminComponents/Components/AddCategory.tsx#default`);async function K(){let{topics:e}=await (0,c.B)(),{categories:t}=await (0,u.n)();return a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:`Container ${d().container}`,children:[(0,a.jsxs)("div",{className:d().adminBar,children:[a.jsx("h2",{children:"Lista Produkt\xf3w"}),a.jsx(l,{}),a.jsx(V,{})]}),(0,a.jsxs)("div",{className:d().content,children:[a.jsx(O,{categories:t}),a.jsx(Z,{topics:e})]})]})})}function Q(){return a.jsx(a.Fragment,{children:a.jsx(K,{})})}},63968:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a={src:"/_next/static/media/circle.a37af7ee.svg",height:512,width:512,blurWidth:0,blurHeight:0}},71298:(e,t,r)=>{"use strict";r.d(t,{Bhs:()=>p});var a=r(17577),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=a.createContext&&a.createContext(o),n=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,o;a=t,o=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){var t=t=>{var r,{attr:o,size:i,title:l}=e,u=function(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,n),p=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==i?a.createElement(i.Consumer,null,e=>t(e)):t(o)}function p(e){var t;return(t={tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},child:[]}]},e=>a.createElement(u,s({attr:c({},t.attr)},e),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(t.child)))(e)}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,6938,4496,4552,3628,2023,1615,1790,610],()=>r(13195));module.exports=a})();