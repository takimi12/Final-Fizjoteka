"use strict";(()=>{var e={};e.id=7634,e.ids=[7634],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},89334:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>w,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>v});var n={};r.r(n),r.d(n,{GET:()=>h,POST:()=>d});var o=r(49303),s=r(88716),a=r(60670),i=r(34532),u=r(87070),l=r(11185),p=r.n(l);let c=new l.Schema({email:String,name:String},{timestamps:!0}),m=p().models.Newsletter||p().model("Newsletter",c);async function d(e){try{let{name:t,email:r}=await e.json();return await (0,i.C)(),await m.create({name:t,email:r}),u.NextResponse.json({message:"Topic Created"},{status:201})}catch(e){return u.NextResponse.json({error:"Internal Server Error"},{status:500})}}async function h(){try{await (0,i.C)();let e=await m.find({});return u.NextResponse.json(e,{status:200})}catch(e){return u.NextResponse.json({error:"Internal Server Error"},{status:500})}}let g=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/news/route",pathname:"/api/news",filename:"route",bundlePath:"app/api/news/route"},resolvedPagePath:"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/api/news/route.js",nextConfigOutput:"",userland:n}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:f}=g,x="/api/news/route";function j(){return(0,a.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:v})}},34532:(e,t,r)=>{r.d(t,{C:()=>i});var n=r(11185),o=r.n(n);let s="mongodb+srv://chao:chao@cluster0.sbxy1gl.mongodb.net/fizjoteka1";if(!s)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async()=>{if(a.conn)return a.conn;a.promise||(a.promise=o().connect(s,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>r(89334));module.exports=n})();