"use strict";(()=>{var e={};e.id=1682,e.ids=[1682],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},86317:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>C,patchFetch:()=>j,requestAsyncStorage:()=>f,routeModule:()=>g,serverHooks:()=>x,staticGenerationAsyncStorage:()=>v});var n={};o.r(n),o.d(n,{GET:()=>m,POST:()=>h});var s=o(49303),r=o(88716),a=o(60670),i=o(34532),u=o(11185),c=o.n(u);let d=new(c()).Schema({code:{type:String,required:!0,unique:!0},discount:{type:Number,required:!0}}),p=c().models.DiscountCode||c().model("DiscountCode",d);var l=o(87070);async function m(){await (0,i.C)();try{let e=await p.find({});return l.NextResponse.json({success:!0,data:e},{status:200})}catch(e){return l.NextResponse.json({success:!1},{status:400})}}async function h(e){await (0,i.C)();try{let t=await e.json(),o=await p.create(t);return l.NextResponse.json({success:!0,data:o},{status:201})}catch(e){return l.NextResponse.json({success:!1},{status:400})}}let g=new s.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/discountCode/route",pathname:"/api/discountCode",filename:"route",bundlePath:"app/api/discountCode/route"},resolvedPagePath:"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/api/discountCode/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:f,staticGenerationAsyncStorage:v,serverHooks:x}=g,C="/api/discountCode/route";function j(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:v})}},34532:(e,t,o)=>{o.d(t,{C:()=>i});var n=o(11185),s=o.n(n);let r="mongodb+srv://chao:chao@cluster0.sbxy1gl.mongodb.net/fizjoteka1";if(!r)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let i=async()=>{if(a.conn)return a.conn;a.promise||(a.promise=s().connect(r,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),n=t.X(0,[8948,5972],()=>o(86317));module.exports=n})();