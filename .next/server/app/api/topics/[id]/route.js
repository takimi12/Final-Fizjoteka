"use strict";(()=>{var e={};e.id=3329,e.ids=[3329],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3769:(e,t,n)=>{n.r(t),n.d(t,{originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>g});var i={};n.r(i),n.d(i,{GET:()=>u,PUT:()=>c});var o=n(49303),r=n(88716),s=n(60670),a=n(34532),p=n(39231),l=n(87070);async function c(e,{params:t}){let{id:n}=t,{newTitle:i,newSubtitle:o,newDescription:r,newPrice:s,newCategory:c,imageFileUrl:u}=await e.json();return await (0,a.C)(),await p.Z.findByIdAndUpdate(n,{title:i,subtitle:o,description:r,price:s,category:c,imageFileUrl:u}),l.NextResponse.json({message:"Topic updated"},{status:200})}async function u(e,{params:t}){let{id:n}=t;await (0,a.C)();let i=await p.Z.findOne({_id:n});return l.NextResponse.json({topic:i},{status:200})}let d=new o.AppRouteRouteModule({definition:{kind:r.x.APP_ROUTE,page:"/api/topics/[id]/route",pathname:"/api/topics/[id]",filename:"route",bundlePath:"app/api/topics/[id]/route"},resolvedPagePath:"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/api/topics/[id]/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:f}=d,h="/api/topics/[id]/route";function w(){return(0,s.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:g})}},34532:(e,t,n)=>{n.d(t,{C:()=>a});var i=n(11185),o=n.n(i);let r="mongodb+srv://chao:chao@cluster0.sbxy1gl.mongodb.net/fizjoteka1";if(!r)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let s=global.mongoose;s||(s=global.mongoose={conn:null,promise:null});let a=async()=>{if(s.conn)return s.conn;s.promise||(s.promise=o().connect(r,{bufferCommands:!1}).then(e=>e));try{s.conn=await s.promise}catch(e){throw s.promise=null,e}return s.conn}},39231:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(11185),o=n.n(i);let r=new i.Schema({title:String,subtitle:String,description:String,categories:[String],price:String,imageFileUrl:String,pdfFileUrl:String},{timestamps:!0}),s=o().models.Topics||o().model("Topics",r)}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),i=t.X(0,[8948,5972],()=>n(3769));module.exports=i})();