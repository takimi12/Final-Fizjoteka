"use strict";(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},33180:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{POST:()=>l});var o=t(49303),a=t(88716),n=t(60670),i=t(34532),u=t(7585),p=t(87070);async function l(e){try{await (0,i.C)();let r=await e.json(),t=await u.Z.create(r);return p.NextResponse.json({message:"User Created successfully!",user:t},{status:200})}catch(e){return console.log(e),p.NextResponse.json({message:"Server error, please try again!"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"/Users/thonasjefferson/Desktop/Final Fizjoteka/src/app/api/auth/register/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h}=c,g="/api/auth/register/route";function y(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},34532:(e,r,t)=>{t.d(r,{C:()=>i});var s=t(11185),o=t.n(s);let a="mongodb+srv://chao:chao@cluster0.sbxy1gl.mongodb.net/fizjoteka1";if(!a)throw Error("Please define the MONGODB_URI environment variable inside .env.local");let n=global.mongoose;n||(n=global.mongoose={conn:null,promise:null});let i=async()=>{if(n.conn)return n.conn;n.promise||(n.promise=o().connect(a,{bufferCommands:!1}).then(e=>e));try{n.conn=await n.promise}catch(e){throw n.promise=null,e}return n.conn}},7585:(e,r,t)=>{t.d(r,{Z:()=>u});var s=t(11185),o=t.n(s),a=t(42023),n=t.n(a);let i=new(o()).Schema({name:{type:String,required:[!0,"Please enter your name"]},email:{type:String,required:[!0,"Please enter your email"],unique:!0},password:{type:String,required:[!0,"Please enter your password"],minLength:[6,"Your password must be longer than 6 characters"],select:!1},role:{type:String,default:"user"}});i.pre("save",async function(e){this.isModified("password")||e(),this.password=await n().hash(this.password,10)});let u=o().models.User||o().model("User",i)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[8948,5972,2023],()=>t(33180));module.exports=s})();