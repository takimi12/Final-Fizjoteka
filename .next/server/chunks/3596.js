"use strict";exports.id=3596,exports.ids=[3596],exports.modules={43596:(e,t,n)=>{n.d(t,{getDefaultRoleAssumer:()=>t6});var s=n(75893),i=n(48787),r=n(39539);let o=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),a={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class l extends r.sI{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class d extends l{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class u extends l{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends l{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class g extends l{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,g.prototype)}}class h extends l{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class m extends l{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class f extends l{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,f.prototype)}}let y=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:r.oc}}),P=e=>({...e,...e.Credentials&&{Credentials:y(e.Credentials)}});var w=n(44547);let E=(e,t)=>(0,r.Wg)(e,t).then(e=>t.utf8Encoder(e)),v=(e,t)=>E(e,t).then(e=>{if(e.length){let t;let n=new w.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>""===t.trim()&&t.includes("\n")?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10","\n");try{t=n.parse(e,!0)}catch(t){throw t&&"object"==typeof t&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}let s="#text",i=Object.keys(t)[0],o=t[i];return o[s]&&(o[i]=o[s],delete o[s]),(0,r.sT)(o)}return{}}),S=async(e,t)=>{let n=await v(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n};var b=n(41966);let x=async(e,t)=>{let n;return n=ez({...z(e,t),[er]:ea,[e$]:ei}),en(t,es,"/",void 0,n)},I=async(e,t)=>{if(e.statusCode>=300)return A(e,t);let n=await v(e.body,t),s={};return s=U(n.AssumeRoleResult,t),{$metadata:ee(e),...s}},A=async(e,t)=>{let n={...e,body:await S(e.body,t)},s=eN(e,n.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await C(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await O(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await T(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await j(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await D(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await $(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await k(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await R(n,t);default:return et({output:e,parsedBody:n.body.Error,errorCode:s})}},C=async(e,t)=>{let n=e.body,s=W(n.Error,t),i=new c({$metadata:ee(e),...s});return(0,r.to)(i,n)},k=async(e,t)=>{let n=e.body,s=L(n.Error,t),i=new m({$metadata:ee(e),...s});return(0,r.to)(i,n)},D=async(e,t)=>{let n=e.body,s=B(n.Error,t),i=new g({$metadata:ee(e),...s});return(0,r.to)(i,n)},R=async(e,t)=>{let n=e.body,s=Z(n.Error,t),i=new f({$metadata:ee(e),...s});return(0,r.to)(i,n)},$=async(e,t)=>{let n=e.body,s=_(n.Error,t),i=new h({$metadata:ee(e),...s});return(0,r.to)(i,n)},O=async(e,t)=>{let n=e.body,s=X(n.Error,t),i=new d({$metadata:ee(e),...s});return(0,r.to)(i,n)},T=async(e,t)=>{let n=e.body,s=J(n.Error,t),i=new u({$metadata:ee(e),...s});return(0,r.to)(i,n)},j=async(e,t)=>{let n=e.body,s=Q(n.Error,t),i=new p({$metadata:ee(e),...s});return(0,r.to)(i,n)},z=(e,t)=>{let n={};if(null!=e[eS]&&(n[eS]=e[eS]),null!=e[eb]&&(n[eb]=e[eb]),null!=e[eP]){let s=N(e[eP],t);e[eP]?.length===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[ey]&&(n[ey]=e[ey]),null!=e[eg]&&(n[eg]=e[eg]),null!=e[ek]){let s=V(e[ek],t);e[ek]?.length===0&&(n.Tags=[]),Object.entries(s).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[eR]){let s=Y(e[eR],t);e[eR]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(s).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[em]&&(n[em]=e[em]),null!=e[eA]&&(n[eA]=e[eA]),null!=e[eD]&&(n[eD]=e[eD]),null!=e[eI]&&(n[eI]=e[eI]),null!=e[eE]){let s=H(e[eE],t);e[eE]?.length===0&&(n.ProvidedContexts=[]),Object.entries(s).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},N=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(M(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},M=(e,t)=>{let n={};return null!=e[eT]&&(n[eT]=e[eT]),n},F=(e,t)=>{let n={};return null!=e[ew]&&(n[ew]=e[ew]),null!=e[ep]&&(n[ep]=e[ep]),n},H=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(F(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},K=(e,t)=>{let n={};return null!=e[ef]&&(n[ef]=e[ef]),null!=e[eO]&&(n[eO]=e[eO]),n},Y=(e,t)=>{let n={},s=1;for(let t of e)null!==t&&(n[`member.${s}`]=t,s++);return n},V=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(K(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},q=(e,t)=>{let n={};return null!=e[el]&&(n[el]=(0,r.pY)(e[el])),null!=e[ed]&&(n[ed]=(0,r.pY)(e[ed])),n},U=(e,t)=>{let n={};return null!=e[eu]&&(n[eu]=G(e[eu],t)),null!=e[ec]&&(n[ec]=q(e[ec],t)),null!=e[ev]&&(n[ev]=(0,r.AF)(e[ev])),null!=e[eI]&&(n[eI]=(0,r.pY)(e[eI])),n},G=(e,t)=>{let n={};return null!=e[eo]&&(n[eo]=(0,r.pY)(e[eo])),null!=e[ex]&&(n[ex]=(0,r.pY)(e[ex])),null!=e[eC]&&(n[eC]=(0,r.pY)(e[eC])),null!=e[eh]&&(n[eh]=(0,r.CE)((0,r.aH)(e[eh]))),n},W=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},L=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},B=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},Z=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},_=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},X=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},J=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},Q=(e,t)=>{let n={};return null!=e[ej]&&(n[ej]=(0,r.pY)(e[ej])),n},ee=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),et=(0,r.PC)(l),en=async(e,t,n,s,i)=>{let{hostname:r,protocol:o="https",port:a,path:l}=await e.endpoint(),c={protocol:o,hostname:r,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==s&&(c.hostname=s),void 0!==i&&(c.body=i),new b.aW(c)},es={"content-type":"application/x-www-form-urlencoded"},ei="2011-06-15",er="Action",eo="AccessKeyId",ea="AssumeRole",el="AssumedRoleId",ec="AssumedRoleUser",ed="Arn",eu="Credentials",ep="ContextAssertion",eg="DurationSeconds",eh="Expiration",em="ExternalId",ef="Key",ey="Policy",eP="PolicyArns",ew="ProviderArn",eE="ProvidedContexts",ev="PackedPolicySize",eS="RoleArn",eb="RoleSessionName",ex="SecretAccessKey",eI="SourceIdentity",eA="SerialNumber",eC="SessionToken",ek="Tags",eD="TokenCode",eR="TransitiveTagKeys",e$="Version",eO="Value",eT="arn",ej="message",ez=e=>Object.entries(e).map(([e,t])=>(0,r.jc)(e)+"="+(0,r.jc)(t)).join("&"),eN=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class eM extends r.mY.classBuilder().ep({...a}).m(function(e,t,n,r){return[(0,i.p2)(n,this.serialize,this.deserialize),(0,s.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,P).ser(x).de(I).build(){}let eF="us-east-1",eH=async(e,t,n)=>{let s="function"==typeof e?await e():e,i="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (provider)`,`${i} (parent client)`,`${eF} (STS default)`),s??i??eF},eK=(e,t)=>{let n,s;return async(i,r)=>{if(s=i,!n){let{logger:i=e?.parentClientConfig?.logger,region:r,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e;n=new t({credentialDefaultProvider:()=>async()=>s,region:await eH(r,e?.parentClientConfig?.region,a),requestHandler:o,logger:i})}let{Credentials:o}=await n.send(new eM(r));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`);return{accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,credentialScope:o.CredentialScope}}};var eY=n(24046),eV=n(58158),eq=n(84119),eU=n(16596),eG=n(27337),eW=n(71424),eL=n(64339),eB=n(51812),eZ=n(81761);let e_=e=>{let t,n;e.credentials&&(t=(0,eW.CU)(e.credentials,eW.BP,eW.zV)),t||(t=e.credentialDefaultProvider?(0,eW.$E)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("`credentials` is missing")});let{signingEscapePath:s=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:r}=e;return n=e.signer?(0,eW.$E)(e.signer):e.regionInfoProvider?()=>(0,eW.$E)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([n,i])=>{let{signingRegion:o,signingService:a}=n;e.signingRegion=e.signingRegion||o||i,e.signingName=e.signingName||a||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:s};return new(e.signerConstructor||eZ.L1)(l)}):async n=>{let i=(n=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,eW.$E)(e.region)(),properties:{}},n)).signingRegion,o=n.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||o||e.serviceId;let a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:s};return new(e.signerConstructor||eZ.L1)(a)},{...e,systemClockOffset:i,signingEscapePath:s,credentials:t,signer:n}};var eX=n(39701);let eJ=async(e,t,n)=>({operation:(0,eX.J)(t).operation,region:await (0,eX.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),eQ=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},e0=e=>({...e,stsClientCtor:t1}),e1=e=>({...e_(e0(e))}),e4={i8:"3.592.0"},e6=!1,e5=e=>{e&&!e6&&16>parseInt(e.substring(1,e.indexOf(".")))&&(e6=!0)},e2=e=>new Date(Date.now()+e),e3=e=>b.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,e8=(e,t)=>Math.abs(e2(t).getTime()-e)>=3e5,e9=(e,t)=>{let n=Date.parse(e);return e8(n,t)?n-Date.now():t},e7=(e,t)=>{if(!t)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},te=async e=>{let t=e7("context",e.context),n=e7("config",e.config),s=t.endpointV2?.properties?.authSchemes?.[0],i=e7("signer",n.signer);return{config:n,signer:await i(s),signingRegion:e?.signingRegion,signingName:e?.signingName}};class tt{async sign(e,t,n){if(!b.aW.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:i,signingRegion:r,signingName:o}=await te(n);return await i.sign(e,{signingDate:e2(s.systemClockOffset),signingRegion:r,signingService:o})}errorHandler(e){return t=>{let n=t.ServerTime??e3(t.$response);if(n){let s=e7("config",e.config),i=s.systemClockOffset;s.systemClockOffset=e9(n,s.systemClockOffset),s.systemClockOffset!==i&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){let n=e3(e);if(n){let e=e7("config",t.config);e.systemClockOffset=e9(n,e.systemClockOffset)}}}var tn=n(45495),ts=n(80442),ti=n(40804),tr=n(47302),to=n(41056),ta=n(72282),tl=n(96602),tc=n(96636),td=n(55898),tu=n(13571),tp=n(95592),tg=n(46293);let th="required",tm="type",tf="argv",ty="booleanEquals",tP="stringEquals",tw="sigv4",tE="us-east-1",tv="endpoint",tS="https://sts.{Region}.{PartitionResult#dnsSuffix}",tb="tree",tx="error",tI="getAttr",tA={[th]:!1,[tm]:"String"},tC={[th]:!0,default:!1,[tm]:"Boolean"},tk={ref:"Endpoint"},tD={fn:"isSet",[tf]:[{ref:"Region"}]},tR={ref:"Region"},t$={fn:"aws.partition",[tf]:[tR],assign:"PartitionResult"},tO={ref:"UseFIPS"},tT={ref:"UseDualStack"},tj={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:tw,signingName:"sts",signingRegion:tE}]},headers:{}},tz={},tN={conditions:[{fn:tP,[tf]:[tR,"aws-global"]}],[tv]:tj,[tm]:tv},tM={fn:ty,[tf]:[tO,!0]},tF={fn:ty,[tf]:[tT,!0]},tH={fn:tI,[tf]:[{ref:"PartitionResult"},"supportsFIPS"]},tK={ref:"PartitionResult"},tY={fn:ty,[tf]:[!0,{fn:tI,[tf]:[tK,"supportsDualStack"]}]},tV=[{fn:"isSet",[tf]:[tk]}],tq=[tM],tU=[tF],tG={version:"1.0",parameters:{Region:tA,UseDualStack:tC,UseFIPS:tC,Endpoint:tA,UseGlobalEndpoint:tC},rules:[{conditions:[{fn:ty,[tf]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[tf]:tV},tD,t$,{fn:ty,[tf]:[tO,!1]},{fn:ty,[tf]:[tT,!1]}],rules:[{conditions:[{fn:tP,[tf]:[tR,"ap-northeast-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"ap-south-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"ap-southeast-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"ap-southeast-2"]}],endpoint:tj,[tm]:tv},tN,{conditions:[{fn:tP,[tf]:[tR,"ca-central-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"eu-central-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"eu-north-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"eu-west-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"eu-west-2"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"eu-west-3"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"sa-east-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,tE]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"us-east-2"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"us-west-1"]}],endpoint:tj,[tm]:tv},{conditions:[{fn:tP,[tf]:[tR,"us-west-2"]}],endpoint:tj,[tm]:tv},{endpoint:{url:tS,properties:{authSchemes:[{name:tw,signingName:"sts",signingRegion:"{Region}"}]},headers:tz},[tm]:tv}],[tm]:tb},{conditions:tV,rules:[{conditions:tq,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[tm]:tx},{conditions:tU,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[tm]:tx},{endpoint:{url:tk,properties:tz,headers:tz},[tm]:tv}],[tm]:tb},{conditions:[tD],rules:[{conditions:[t$],rules:[{conditions:[tM,tF],rules:[{conditions:[{fn:ty,[tf]:[!0,tH]},tY],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tz,headers:tz},[tm]:tv}],[tm]:tb},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[tm]:tx}],[tm]:tb},{conditions:tq,rules:[{conditions:[{fn:ty,[tf]:[tH,!0]}],rules:[{conditions:[{fn:tP,[tf]:[{fn:tI,[tf]:[tK,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tz,headers:tz},[tm]:tv},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tz,headers:tz},[tm]:tv}],[tm]:tb},{error:"FIPS is enabled but this partition does not support FIPS",[tm]:tx}],[tm]:tb},{conditions:tU,rules:[{conditions:[tY],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tz,headers:tz},[tm]:tv}],[tm]:tb},{error:"DualStack is enabled but this partition does not support DualStack",[tm]:tx}],[tm]:tb},tN,{endpoint:{url:tS,properties:tz,headers:tz},[tm]:tv}],[tm]:tb}],[tm]:tb},{error:"Invalid Configuration: Missing Region",[tm]:tx}]},tW=(e,t={})=>(0,tg.B1)(tG,{endpointParams:e,logger:t.logger});tg.DY.aws=tp.Iu;let tL=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??td.G,base64Encoder:e?.base64Encoder??td.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tW,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??eQ,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new tt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eW.oH}],logger:e?.logger??new r.vk,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??tc.e,utf8Decoder:e?.utf8Decoder??tu.$x,utf8Encoder:e?.utf8Encoder??tu.GZ});var tB=n(46608);let tZ=e=>{(0,r.H_)(process.version);let t=(0,tB.j)(e),n=()=>t().then(r.jv),s=tL(e);return e5(process.version),{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ta.W,credentialDefaultProvider:e?.credentialDefaultProvider??tn.iw,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ts.fV)({serviceId:s.serviceId,clientVersion:e4.i8}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await (0,tn.iw)(e?.__config||{})()),signer:new tt},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new eW.oH}],maxAttempts:e?.maxAttempts??(0,tr.M)(eB.Hs),region:e?.region??(0,tr.M)(eG._c,eG.zb),requestHandler:to.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,tr.M)({...eB.aK,default:async()=>(await n()).retryMode||tl.CA}),sha256:e?.sha256??ti.k.bind(null,"sha256"),streamCollector:e?.streamCollector??to.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,tr.M)(eG.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,tr.M)(eG.NL)}};var t_=n(35903);let tX=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}},tJ=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),tQ=e=>e,t0=(e,t)=>{let n={...tQ((0,t_.GW)(e)),...tQ((0,r.kE)(e)),...tQ((0,b.cA)(e)),...tQ(tX(e))};return t.forEach(e=>e.configure(n)),{...e,...(0,t_.A1)(n),...(0,r.SQ)(n),...(0,b.AO)(n),...tJ(n)}};class t1 extends r.KU{constructor(...[e]){let t=o(tZ(e||{})),n=(0,eG.Xb)(t),i=(0,s.uW)(n),r=(0,eB.BC)(i),a=(0,eY.S8)(r),l=t0(e1((0,eU.er)(a)),e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,eB.NQ)(this.config)),this.middlewareStack.use((0,eL.VG)(this.config)),this.middlewareStack.use((0,eY.G2)(this.config)),this.middlewareStack.use((0,eV.cV)(this.config)),this.middlewareStack.use((0,eq.eV)(this.config)),this.middlewareStack.use((0,eU.XJ)(this.config)),this.middlewareStack.use((0,eW.tZ)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,eW.aZ)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return eJ}getIdentityProviderConfigProvider(){return async e=>new eW.K5({"aws.auth#sigv4":e.credentials})}}let t4=(e,t)=>t?class extends e{constructor(e){for(let n of(super(e),t))this.middlewareStack.use(n)}}:e,t6=(e={},t)=>eK(e,t4(t1,t))}};