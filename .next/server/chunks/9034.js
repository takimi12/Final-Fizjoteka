"use strict";exports.id=9034,exports.ids=[9034],exports.modules={99034:(e,t,s)=>{s.d(t,{GetRoleCredentialsCommand:()=>U,SSOClient:()=>eZ});var n=s(38085),i=s(65030),r=s(90251);let o=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),a={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class d extends r.sI{constructor(e){super(e),Object.setPrototypeOf(this,d.prototype)}}class c extends d{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class u extends d{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class l extends d{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,l.prototype)}}class p extends d{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}let g=e=>({...e,...e.accessToken&&{accessToken:r.oc}}),h=e=>({...e,...e.secretAccessKey&&{secretAccessKey:r.oc},...e.sessionToken&&{sessionToken:r.oc}}),m=e=>({...e,...e.roleCredentials&&{roleCredentials:h(e.roleCredentials)}}),f=(e,t)=>(0,r.Wg)(e,t).then(e=>t.utf8Encoder(e)),y=(e,t)=>f(e,t).then(e=>{if(e.length)try{return JSON.parse(e)}catch(t){throw t?.name==="SyntaxError"&&Object.defineProperty(t,"$responseBodyText",{value:e}),t}return{}}),v=async(e,t)=>{let s=await y(e,t);return s.message=s.message??s.Message,s},S=(e,t)=>{let s,n;let i=e=>{let t=e;return"number"==typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},r=(s=e.headers,n="x-amzn-errortype",Object.keys(s).find(e=>e.toLowerCase()===n.toLowerCase()));return void 0!==r?i(e.headers[r]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):void 0};var P=s(7528);let w=async(e,t)=>{let s;let n=(0,P.cu)(e,t),i=(0,r.UI)({},A,{[F]:e[q]});n.bp("/federation/credentials");let o=(0,r.UI)({[z]:[,(0,r.CE)(e[$],"roleName")],[N]:[,(0,r.CE)(e[D],"accountId")]});return n.m("GET").h(i).q(o).b(s),n.build()},b=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return E(e,t);let s=(0,r.UI)({$metadata:O(e)}),n=(0,r.CE)((0,r.Wh)(await y(e.body,t)),"body");return Object.assign(s,(0,r.qn)(n,{roleCredentials:r.F3})),s},E=async(e,t)=>{let s={...e,body:await v(e.body,t)},n=S(e,s.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await I(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await C(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await k(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await R(s,t);default:return x({output:e,parsedBody:s.body,errorCode:n})}},x=(0,r.PC)(d),I=async(e,t)=>{let s=(0,r.UI)({}),n=e.body;Object.assign(s,(0,r.qn)(n,{message:r.pY}));let i=new c({$metadata:O(e),...s});return(0,r.to)(i,e.body)},C=async(e,t)=>{let s=(0,r.UI)({}),n=e.body;Object.assign(s,(0,r.qn)(n,{message:r.pY}));let i=new u({$metadata:O(e),...s});return(0,r.to)(i,e.body)},k=async(e,t)=>{let s=(0,r.UI)({}),n=e.body;Object.assign(s,(0,r.qn)(n,{message:r.pY}));let i=new l({$metadata:O(e),...s});return(0,r.to)(i,e.body)},R=async(e,t)=>{let s=(0,r.UI)({}),n=e.body;Object.assign(s,(0,r.qn)(n,{message:r.pY}));let i=new p({$metadata:O(e),...s});return(0,r.to)(i,e.body)},O=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),A=e=>null!=e&&""!==e&&(!Object.getOwnPropertyNames(e).includes("length")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes("size")||0!=e.size),D="accountId",q="accessToken",N="account_id",$="roleName",z="role_name",F="x-amz-sso_bearer_token";class U extends r.mY.classBuilder().ep({...a}).m(function(e,t,s,r){return[(0,i.p2)(s,this.serialize,this.deserialize),(0,n.a3)(s,e.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(g,m).ser(w).de(b).build(){}var j=s(50553),M=s(52031),H=s(46288),T=s(20197),G=s(8086),L=s(45808),_=s(72765),V=s(66074);let B=e=>{let t,s;e.credentials&&(t=(0,P.CU)(e.credentials,P.BP,P.zV)),t||(t=e.credentialDefaultProvider?(0,P.$E)(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("`credentials` is missing")});let{signingEscapePath:n=!0,systemClockOffset:i=e.systemClockOffset||0,sha256:r}=e;return s=e.signer?(0,P.$E)(e.signer):e.regionInfoProvider?()=>(0,P.$E)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([s,i])=>{let{signingRegion:o,signingService:a}=s;e.signingRegion=e.signingRegion||o||i,e.signingName=e.signingName||a||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||V.L1)(d)}):async s=>{let i=(s=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,P.$E)(e.region)(),properties:{}},s)).signingRegion,o=s.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||o||e.serviceId;let a={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:r,uriEscapePath:n};return new(e.signerConstructor||V.L1)(a)},{...e,systemClockOffset:i,signingEscapePath:n,credentials:t,signer:s}};var W=s(82264);let K=async(e,t,s)=>({operation:(0,W.J)(t).operation,region:await (0,W.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),Y=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},Z=e=>({...B(e)}),J={i8:"3.592.0"},Q=!1,X=e=>{e&&!Q&&16>parseInt(e.substring(1,e.indexOf(".")))&&(Q=!0)};var ee=s(20731),et=s(61385),es=s(24407),en=s(95580),ei=s(35841),er=s(72667),eo=s(19193);let ea=e=>new Date(Date.now()+e),ed=e=>eo.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,ec=(e,t)=>Math.abs(ea(t).getTime()-e)>=3e5,eu=(e,t)=>{let s=Date.parse(e);return ec(s,t)?s-Date.now():t},el=(e,t)=>{if(!t)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},ep=async e=>{let t=el("context",e.context),s=el("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],i=el("signer",s.signer);return{config:s,signer:await i(n),signingRegion:e?.signingRegion,signingName:e?.signingName}};class eg{async sign(e,t,s){if(!eo.aW.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:i,signingRegion:r,signingName:o}=await ep(s);return await i.sign(e,{signingDate:ea(n.systemClockOffset),signingRegion:r,signingService:o})}errorHandler(e){return t=>{let s=t.ServerTime??ed(t.$response);if(s){let n=el("config",e.config),i=n.systemClockOffset;n.systemClockOffset=eu(s,n.systemClockOffset),n.systemClockOffset!==i&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){let s=ed(e);if(s){let e=el("config",t.config);e.systemClockOffset=eu(s,e.systemClockOffset)}}}var eh=s(43611),em=s(99206),ef=s(68667),ey=s(54833),ev=s(26056);let eS="required",eP="argv",ew="isSet",eb="booleanEquals",eE="error",ex="endpoint",eI="tree",eC="PartitionResult",ek="getAttr",eR={[eS]:!1,type:"String"},eO={[eS]:!0,default:!1,type:"Boolean"},eA={ref:"Endpoint"},eD={fn:eb,[eP]:[{ref:"UseFIPS"},!0]},eq={fn:eb,[eP]:[{ref:"UseDualStack"},!0]},eN={},e$={fn:ek,[eP]:[{ref:eC},"supportsFIPS"]},ez={ref:eC},eF={fn:eb,[eP]:[!0,{fn:ek,[eP]:[ez,"supportsDualStack"]}]},eU=[eD],ej=[eq],eM=[{ref:"Region"}],eH={version:"1.0",parameters:{Region:eR,UseDualStack:eO,UseFIPS:eO,Endpoint:eR},rules:[{conditions:[{fn:ew,[eP]:[eA]}],rules:[{conditions:eU,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:eE},{conditions:ej,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:eE},{endpoint:{url:eA,properties:eN,headers:eN},type:ex}],type:eI},{conditions:[{fn:ew,[eP]:eM}],rules:[{conditions:[{fn:"aws.partition",[eP]:eM,assign:eC}],rules:[{conditions:[eD,eq],rules:[{conditions:[{fn:eb,[eP]:[!0,e$]},eF],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eN,headers:eN},type:ex}],type:eI},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:eE}],type:eI},{conditions:eU,rules:[{conditions:[{fn:eb,[eP]:[e$,!0]}],rules:[{conditions:[{fn:"stringEquals",[eP]:[{fn:ek,[eP]:[ez,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:eN,headers:eN},type:ex},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:eN,headers:eN},type:ex}],type:eI},{error:"FIPS is enabled but this partition does not support FIPS",type:eE}],type:eI},{conditions:ej,rules:[{conditions:[eF],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:eN,headers:eN},type:ex}],type:eI},{error:"DualStack is enabled but this partition does not support DualStack",type:eE}],type:eI},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:eN,headers:eN},type:ex}],type:eI}],type:eI},{error:"Invalid Configuration: Missing Region",type:eE}]},eT=(e,t={})=>(0,ev.B1)(eH,{endpointParams:e,logger:t.logger});ev.DY.aws=ey.Iu;let eG=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??em.G,base64Encoder:e?.base64Encoder??em.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??eT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Y,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new eg},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new P.oH}],logger:e?.logger??new r.vk,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??eh.e,utf8Decoder:e?.utf8Decoder??ef.$x,utf8Encoder:e?.utf8Encoder??ef.GZ});var eL=s(97574);let e_=e=>{(0,r.H_)(process.version);let t=(0,eL.j)(e),s=()=>t().then(r.jv),n=eG(e);return X(process.version),{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??ei.W,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ee.fV)({serviceId:n.serviceId,clientVersion:J.i8}),maxAttempts:e?.maxAttempts??(0,es.M)(_.Hs),region:e?.region??(0,es.M)(G._c,G.zb),requestHandler:en.NA.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,es.M)({..._.aK,default:async()=>(await s()).retryMode||er.CA}),sha256:e?.sha256??et.k.bind(null,"sha256"),streamCollector:e?.streamCollector??en.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,es.M)(G.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,es.M)(G.NL)}};var eV=s(84959);let eB=e=>{let t=e.httpAuthSchemes,s=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){let s=t.findIndex(t=>t.schemeId===e.schemeId);-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){n=e},credentials:()=>n}},eW=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),eK=e=>e,eY=(e,t)=>{let s={...eK((0,eV.GW)(e)),...eK((0,r.kE)(e)),...eK((0,eo.cA)(e)),...eK(eB(e))};return t.forEach(e=>e.configure(s)),{...e,...(0,eV.A1)(s),...(0,r.SQ)(s),...(0,eo.AO)(s),...eW(s)}};class eZ extends r.KU{constructor(...[e]){let t=o(e_(e||{})),s=(0,G.Xb)(t),i=(0,n.uW)(s),r=(0,_.BC)(i),a=(0,j.S8)(r),d=eY(Z((0,T.er)(a)),e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use((0,_.NQ)(this.config)),this.middlewareStack.use((0,L.VG)(this.config)),this.middlewareStack.use((0,j.G2)(this.config)),this.middlewareStack.use((0,M.cV)(this.config)),this.middlewareStack.use((0,H.eV)(this.config)),this.middlewareStack.use((0,T.XJ)(this.config)),this.middlewareStack.use((0,P.tZ)(this.config,{httpAuthSchemeParametersProvider:this.getDefaultHttpAuthSchemeParametersProvider(),identityProviderConfigProvider:this.getIdentityProviderConfigProvider()})),this.middlewareStack.use((0,P.aZ)(this.config))}destroy(){super.destroy()}getDefaultHttpAuthSchemeParametersProvider(){return K}getIdentityProviderConfigProvider(){return async e=>new P.K5({"aws.auth#sigv4":e.credentials})}}}};